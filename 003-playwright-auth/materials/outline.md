# 文章大纲：Playwright Auth Manager - 让 AI 自己登录网站

## 一、开篇：痛点切入

**标题建议**：**让 AI 自己登录网站？这个 Skill 做到了**

- **痛点引入**：AI 编程很强，但遇到需要登录的网站就卡壳了
  - 数据抓取需要登录
  - 本地调试需要测试登录状态
  - 每次都要手动登录、复制 Cookie 很麻烦
- **解决方案预告**：Playwright Auth Manager 能自动管理登录状态，让 Coding Agent 像真人一样登录网站

## 二、这个 Skill 到底能干什么

- **核心能力**：
  - 自动保存网站登录凭证（cookies、localStorage）
  - 让 AI Agent 复用登录状态，无需重复登录
  - 支持多账号管理（工作账号、个人账号等）
  - 本地开发和数据抓取的得力助手

- **使用场景举例**：
  - 开发调试：测试需要登录的功能
  - 数据抓取：从需要登录的网站获取数据
  - 自动化测试：模拟已登录用户的行为
  - 多账号切换：在不同账号间快速切换

## 三、真实案例演示

**案例 1：抓取个人项目数据**
- 提示词示例
- 演示 Skill 如何引导用户保存登录状态
- 展示使用保存的认证状态访问需要登录的页面
- 成功获取数据的效果截图

**案例 2：多账号管理场景**
- 配置多个 MCP 实例
- 在工作账号和个人账号间切换
- 展示无缝切换的效果

## 四、拆解：它是如何工作的

**1. 认证状态文件**
- JSON 格式存储 cookies 和 localStorage
- 文件结构说明（可以简化展示）
- 文件大小小（5-50KB），易于管理

**2. 工作流程**
- 用户手动登录一次
- 脚本自动保存认证信息
- MCP Server 加载认证状态
- AI Agent 直接使用已登录状态

**3. 技术架构**
- 基于 Playwright MCP
- 使用 `save-auth-state.js` 脚本保存认证
- 支持 `--isolated` 模式（干净环境）和 `--user-data-dir` 模式（完整浏览器配置）

**4. 安全设计**
- 仅用于本地开发
- 自动检查 .gitignore
- 文件权限管理

## 五、与现有方案对比

**对比维度**：
1. **手动复制 Cookie**：麻烦、容易过期、不支持 localStorage
2. **Selenium/Puppeteer 手写脚本**：需要自己写代码管理认证
3. **浏览器插件**：无法与 AI Agent 集成
4. **Playwright Auth Manager**：一键保存、自动管理、AI 友好

**表格对比**：
| 方案 | 易用性 | AI 集成 | 多账号支持 | 安全性 |
|------|--------|---------|------------|--------|
| 手动复制 Cookie | ⭐⭐ | ❌ | ❌ | ⭐⭐ |
| 手写脚本 | ⭐⭐ | ⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ |
| 浏览器插件 | ⭐⭐⭐⭐ | ❌ | ⭐⭐ | ⭐⭐⭐ |
| Playwright Auth Manager | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |

## 六、使用指南

**快速开始三步走**：
1. 运行 setup 脚本安装依赖
2. 使用 `save-auth-state.js` 保存登录状态
3. 配置 MCP Server 加载认证文件

**详细步骤**（配截图或代码示例）：
- 第一步：安装 Skill
- 第二步：保存认证状态的完整命令
- 第三步：配置 MCP Server（单会话和多会话）
- 第四步：验证认证是否生效

**进阶用法**：
- 使用 `--save-session` 自动保存会话变化
- 动态切换会话（单实例切换）

## 七、适用场景与局限

**适用场景**：
- ✅ 本地开发调试需要登录的功能
- ✅ 数据抓取和自动化任务
- ✅ 测试多账号场景
- ✅ 需要频繁访问需要登录的网站

**不适用场景**：
- ❌ 生产环境部署
- ❌ 公共服务器上运行
- ❌ 处理高度敏感的认证信息

**局限性**：
- 仅支持本地使用
- 需要手动登录一次
- Session 过期需要重新保存
- 认证文件包含敏感信息，需妥善保管

## 八、为什么现在是发布的好时机

- MCP 生态快速发展
- Playwright MCP 刚发布不久
- 目前还没有类似的 Skill 公开分享
- 填补了 AI Agent 在网站自动化方面的空白

## 九、关于 Skill 2049（系列介绍）

- 这是全世界第一家 Skill 评测媒体
- 本篇是系列第三篇，也是第一个自研 Skill
- 我们的使命：通过真实用例展示 Skill 的价值
- 欢迎关注后续更新

## 十、本期能力栈

**核心**：
| type | name | source |
|------|------|--------|
| Skill | playwright-auth-manager | [GitHub链接] |

**依赖**：
| type | name | usage |
|------|------|-------|
| MCP Server | @playwright/mcp | 浏览器自动化 |
| Tool | Playwright | 浏览器控制 |

---

## 大纲说明

这个大纲遵循了前两篇文章的结构：

1. **开篇吸引力**：从实际痛点切入，不像前两篇那样抽象
2. **真实案例**：保持系列特色，用实际演示说话
3. **对比竞品**：与手动方案、手写脚本对比，突出优势
4. **拆解原理**：技术深度适中，让读者理解其价值
5. **使用指南**：详细但不冗长，配合命令示例
6. **边界明确**：强调本地使用，避免误用
7. **时机分析**：新增部分，说明为什么现在发布
8. **系列延续**：保持 Skill 2049 的品牌一致性

**与前两篇的差异**：
- 这是第一个自研 Skill，值得在"时机"部分强调
- 技术性更强，需要平衡技术深度和可读性
- 使用场景更垂直（开发者向），需要清晰界定适用人群
